# П.37. Строка формата макета

В предыдущих главах мы имеем много использования макет строки формата , такие как `%s` , `%d` , `%.2f` , и другие; в целях отображения вывода на экран или для форматирования строк.

Формат формата строки используется при преобразовании данных в форму строки. Примеры , такие как , `%.3f` что значения преобразования `double` в `string` третьем десятичного знака.

## A.37.1. подготовка

В этой главе мы будем изучать по одному макеты строк формата, доступные в Golang. Следующий код представляет собой пример данных, которые мы будем использовать в качестве примера.

```
type student struct {
    name        string
    height      float64
    age         int32
    isGraduated bool
    hobbies     []string
}

var data = student{
    name:        "wick",
    height:      182.5,
    age:         26,
    isGraduated: false,
    hobbies:     []string{"eating", "sleeping"},
}

```

## A.37.2. Формат макета `%b`

Используется для форматирования числовых данных в виде двух (двоичных) числовых строковых форм.

```
fmt.Printf("%b\n", data.age)
// 11010

```

## A.37.3. Формат макета `%c`

Используется для форматирования числовых данных, которые представляют собой код Unicode, формирует строку символов Unicode.

```
fmt.Printf("%c\n", 1400)
// ո

fmt.Printf("%c\n", 1235)
// ӓ

```

## A.37.4. Формат макета `%d`

Используется для форматирования числовых данных в виде числовой строки на основе 10 (числовая база, которую мы используем).

```
fmt.Printf("%d\n", data.age)
// 26

```

## A.37.5. Формат макета `%e` или `%E`

Используется для форматирования десятичных числовых данных в виде стандартных числовых [обозначений научной нотации](https://en.wikipedia.org/wiki/Scientific_notation) .

```
fmt.Printf("%e\n", data.height)
// 1.825000e+02

fmt.Printf("%E\n", data.height)
// 1.825000E+02

```

**1,825000E + 02** означает **1,825** **x 10 ^ 2** , и результаты операции соответствуют исходным данным = **182,5** .

Разница между `%e` и `%E` только прописными и строчными символами `e` в результатах.

## A.37.6. Формат макета `%f` или `%F`

`%F` это псевдоним `%f` . Оба имеют одинаковую функцию.

Он функционирует для форматирования десятичных числовых данных, с десятичной шириной может быть определена. По умолчанию ширина десятичной цифры составляет 6 цифр.

```
fmt.Printf("%f\n", data.height)
// 182.500000

fmt.Printf("%.9f\n", data.height)
// 182.500000000

fmt.Printf("%.2f\n", data.height)
// 182.50

fmt.Printf("%.f\n", data.height)
// 182

```

## A.37.7. Формат макета `%g` или `%G`

`%G` это псевдоним `%g` . Оба имеют одинаковую функцию.

Он функционирует для форматирования десятичных числовых данных, с десятичной шириной может быть определена. Ширина емкости очень велика, как раз для данных с большим количеством десятичных цифр.

Можно увидеть в сравнении следующего кода между `%e` , `%f` и `%g` .

```
fmt.Printf("%e\n", 0.123123123123)
// 1.231231e-01

fmt.Printf("%f\n", 0.123123123123)
// 0.123123

fmt.Printf("%g\n", 0.123123123123)
// 0.123123123123

```

Другое отличие состоит в том `%g` , что ширина десятичной цифры соответствует данным, ее нельзя настроить, как в `%f` .

```
fmt.Printf("%g\n", 0.12)
// 0.12

fmt.Printf("%.5g\n", 0.12)
// 0.12

```

## A.37.8. Формат макета `%o`

Используется для форматирования числовых данных в виде 8 (восьмеричных) числовых строк.

```
fmt.Printf("%o\n", data.age)
// 32

```

## A.37.9. Формат макета `%p`

Используется для форматирования данных указателя, возвращает адрес указателя на переменную.

Адрес указателя записывается в числовой форме на основе 16 с префиксом `0x` .

```
fmt.Printf("%p\n", &data.name)
// 0x2081be0c0

```

## A.37.10. Формат макета `%q`

Используется для **escape\-** струн. Даже если строки, используемые с использованием литералов, `\` все равно будут экранированы.

```
fmt.Printf("%q\n", `" name \ height "`)
// "\" name \\\\ height \""

```

## A.37.11. Формат макета `%s`

Используется для форматирования строковых данных.

```
fmt.Printf("%s\n", data.name)
// wick

```

## A.37.12. Формат макета `%t`

Используется для форматирования логических данных, отображая `bool` их значение .

```
fmt.Printf("%t\n", data.isGraduated)
// false

```

## A.37.13. Формат макета `%T`

Функция для получения типа переменной для форматирования.

```
fmt.Printf("%T\n", data.name)
// string

fmt.Printf("%T\n", data.height)
// float64

fmt.Printf("%T\n", data.age)
// int32

fmt.Printf("%T\n", data.isGraduated)
// bool

fmt.Printf("%T\n", data.hobbies)
// []string

```

## A.37.14. Формат макета `%v`

Используется для форматирования любых данных (включая тип данных `interface{}` ). Возвращаемый результат \- строка исходных значений данных.

Если данные являются печатным объектом `struct` , все свойства будут отображаться по порядку.

```
fmt.Printf("%v\n", data)
// {wick 182.5 26 false [eating sleeping]}

```

## A.37.15. Формат макета `%+v`

Используется для форматирования структуры, возвращая имя каждого свойства и его значение последовательно в соответствии со структурой структуры.

```
fmt.Printf("%+v\n", data)
// {name:wick height:182.5 age:26 isGraduated:false hobbies:[eating sleeping]}

```

## A.37.16. Формат макета `%#v`

Используется для форматирования структуры, возврата имени и значения каждого свойства в соответствии со структурой структуры, а также способом объявления объекта.

```
fmt.Printf("%#v\n", data)
// main.student{name:"wick", height:182.5, age:26, isGraduated:false, hobbies:[]string{"eating", "sleeping"}}

```

При отображении объектов, в объявлениях которых используются методы *анонимной* структуры, также будет отображаться структура *анонимной структуры* .

```
var data = struct {
    name   string
    height float64
}{
    name:   "wick",
    height: 182.5,
}

fmt.Printf("%#v\n", data)
// struct { name string; height float64 }{name:"wick", height:182.5}

```

Этот формат также можно использовать для отображения других типов данных, и структура также появится.

## A.37.17. Формат макета `%x` или `%X`

Используется для форматирования числовых данных в 16 (шестнадцатеричные) числовые строковые формы.

```
fmt.Printf("%x\n", data.age)
// 1a

```

Если используется в строковом типе данных, он вернет шестнадцатеричный код для каждого символа.

```
var d = data.name

fmt.Printf("%x%x%x%x\n", d[0], d[1], d[2], d[3])
// 7769636b

fmt.Printf("%x\n", d)
// 7769636b

```

`%x` и `%X` имеет ту же функцию. Разница в том, что он `%X` будет возвращать строку *прописными* или *заглавными* буквами.

## A.37.18. Формат макета `%%`

Как писать символы `%` в строке формата.

```
fmt.Printf("%%\n")
// %
```
